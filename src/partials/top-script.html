<script>
  function clear_highlight(){
    var elements = document.querySelectorAll(".highlight")
    for (var i = 0; i < elements.length; i++) {
        elements[i].classList.remove('highlight')
    }
  }
  function show_keyword(tag){
    clear_highlight()
    var elements = document.querySelectorAll(`[tags*="${tag}"]`)
    if(elements){
        for (var i = 0; i < elements.length; i++) {
          elements[i].open = true
          elements[i].parentElement.closest('details').open = true
          if(elements[i].parentElement.closest('details').parentElement.closest('details')){
            elements[i].parentElement.closest('details').parentElement.closest('details').open = true
          }
          elements[i].classList.add('highlight')
      }
      elements[0].scrollIntoView()
    }
  }
  function toggle_details(value){
    var elements = document.getElementsByTagName('details')
    for (var i = 0; i < elements.length; i++) {
        elements[i].open = value
    }
  }
  function toggle_pin_menu(){
    var profile = document.getElementById('profile')
    if(profile.clientHeight >= window.innerHeight){
      profile.classList.remove('affix')
    }else{
      profile.classList.add('affix')
    }
  }
window.addEventListener("resize", toggle_pin_menu)
</script>
